-- MySQL dump 10.13  Distrib 8.0.43, for Linux (aarch64)
--
-- Host: localhost    Database: petanque_rating
-- ------------------------------------------------------
-- Server version	8.0.43

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `admins`
--

DROP TABLE IF EXISTS `admins`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `admins` (
  `id` int NOT NULL AUTO_INCREMENT,
  `username` varchar(50) NOT NULL,
  `password_hash` varchar(255) NOT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `admins`
--

LOCK TABLES `admins` WRITE;
/*!40000 ALTER TABLE `admins` DISABLE KEYS */;
INSERT INTO `admins` VALUES (1,'admin','$2b$10$g2IRfNdQCpTjW/EXu39de.nmI0Cdy8eJbeEEegHsc/FTx6mqdVNQu','2025-10-08 07:40:29','2025-10-08 07:40:29');
/*!40000 ALTER TABLE `admins` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `licensed_players`
--

DROP TABLE IF EXISTS `licensed_players`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `licensed_players` (
  `id` int NOT NULL AUTO_INCREMENT,
  `player_id` int NOT NULL,
  `license_number` varchar(20) NOT NULL,
  `city` varchar(100) NOT NULL,
  `license_date` date NOT NULL,
  `year` int NOT NULL,
  `is_active` tinyint(1) DEFAULT '1',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `license_number` (`license_number`),
  UNIQUE KEY `unique_player_year` (`player_id`,`year`),
  KEY `idx_player_id` (`player_id`),
  KEY `idx_license_number` (`license_number`),
  KEY `idx_year_active` (`year`,`is_active`),
  CONSTRAINT `licensed_players_ibfk_1` FOREIGN KEY (`player_id`) REFERENCES `players` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=127 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `licensed_players`
--

LOCK TABLES `licensed_players` WRITE;
/*!40000 ALTER TABLE `licensed_players` DISABLE KEYS */;
INSERT INTO `licensed_players` VALUES (1,1,'422','Приозерск','2025-06-17',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(2,2,'191','Москва','2025-03-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(3,3,'417','Н. Новгород','2025-05-01',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(4,4,'419','Анапа','2025-05-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(5,5,'404','Питер','2025-01-13',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(6,6,'233','Калуга','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(7,7,'85','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(8,8,'25','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(9,9,'316','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(10,10,'375','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(11,11,'262','Москва','2025-05-17',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(12,12,'396','Москва','2025-03-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(13,13,'410','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(14,14,'236','Калуга','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(15,15,'101','Калуга','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(16,16,'331','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(17,17,'332','Калуга','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(18,18,'180','Москва','2025-01-23',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(19,19,'380','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(20,20,'382','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(21,21,'381','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(22,22,'282','Десногорск','2025-02-01',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(23,23,'389','Калуга','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(24,24,'329','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(25,25,'289','Москва','2025-01-22',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(26,26,'361','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(27,27,'281','Москва','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(28,28,'239','Москва','2025-01-19',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(29,29,'384','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(30,30,'305','Новороссийск','2025-05-31',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(31,31,'411','Калуга','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(32,32,'392','Москва','2025-01-06',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(33,33,'391','Москва','2025-01-06',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(34,34,'34','Калуга','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(35,35,'409','Питер','2025-01-17',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(36,36,'61','Сафоново','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(37,37,'105','Москва','2025-01-19',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(38,38,'272','Москва','2025-01-19',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(39,39,'395','Франция','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(40,40,'144','Смоленск','2025-02-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(41,41,'413','Питер','2025-03-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(42,42,'414','Питер','2025-03-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(43,43,'264','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(44,44,'276','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(45,45,'399','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(46,46,'400','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(47,47,'401','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(48,48,'333','Москва','2025-01-06',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(49,49,'371','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(50,50,'379','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(51,51,'378','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(52,52,'299','Москва','2025-01-19',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(53,53,'364','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(54,54,'383','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(55,55,'421','Томск','2025-05-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(56,56,'266','Питер','2025-03-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(57,57,'325','Москва','2025-01-19',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(58,58,'420','Анапа','2025-05-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(59,59,'372','Приозерск','2025-03-01',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(60,60,'416','Питер','2025-04-11',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(61,61,'343','Москва','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(62,62,'55','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(63,63,'327','Калуга','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(64,64,'104','Москва','2025-01-26',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(65,65,'215','Москва','2025-03-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(66,66,'387','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(67,67,'360','Москва','2025-01-02',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(68,68,'377','Новороссийск','2025-02-19',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(69,69,'334','Москва','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(70,70,'357','Питер','2025-01-31',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(71,71,'309','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(72,72,'376','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(73,73,'66','Москва','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(74,74,'277','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(75,75,'356','Москва','2025-02-01',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(76,154,'369','Москва','2025-03-11',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(77,77,'94','Москва','2025-03-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(78,78,'120','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(79,79,'412','Полярные Зори','2025-03-14',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(80,80,'253','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(81,81,'346','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(82,82,'322','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(83,83,'174','Москва','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(84,84,'366','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(85,85,'398','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(86,86,'402','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(87,87,'1','Москва','2025-03-14',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(88,88,'130','Москва','2024-12-27',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(89,89,'363','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(90,90,'367','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(91,91,'296','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(92,92,'297','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(93,93,'280','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(94,94,'335','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(95,95,'344','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(96,96,'365','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(97,97,'397','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(98,98,'407','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(99,99,'265','Москва','2025-03-11',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(100,100,'406','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(101,101,'350','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(102,102,'159','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(103,103,'408','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(104,104,'258','Десногорск','2025-02-01',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(105,105,'351','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(106,106,'373','Приозерск','2025-01-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(107,107,'403','Москва','2025-01-06',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(108,108,'415','Питер','2025-04-11',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(109,109,'388','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(110,110,'21','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(111,111,'14','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(112,112,'226','Москва','2025-02-22',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(113,113,'58','Москва','2025-02-22',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(114,114,'336','Калуга','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(115,115,'285','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(116,116,'358','Калуга','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(117,117,'300','Москва','2025-03-14',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(118,118,'324','Москва','2025-01-06',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(119,119,'405','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(120,120,'368','Калуга','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(121,121,'347','Питер','2025-01-12',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(122,122,'353','Москва','2025-01-18',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(123,123,'418','Анапа','2025-05-08',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(124,124,'328','Калуга','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(125,125,'286','Калуга','2025-01-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41'),(126,126,'225','Москва','2025-03-25',2025,1,'2025-10-08 08:52:41','2025-10-08 08:52:41');
/*!40000 ALTER TABLE `licensed_players` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `player_tournament_points`
--

DROP TABLE IF EXISTS `player_tournament_points`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `player_tournament_points` (
  `id` int NOT NULL AUTO_INCREMENT,
  `tournament_id` int NOT NULL,
  `player_id` int NOT NULL,
  `points` int NOT NULL DEFAULT '0',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_player_tournament` (`player_id`,`tournament_id`),
  KEY `idx_player_points` (`player_id`,`points` DESC),
  KEY `idx_tournament` (`tournament_id`),
  KEY `idx_points` (`points` DESC),
  CONSTRAINT `player_tournament_points_ibfk_1` FOREIGN KEY (`player_id`) REFERENCES `players` (`id`) ON DELETE CASCADE,
  CONSTRAINT `player_tournament_points_ibfk_2` FOREIGN KEY (`tournament_id`) REFERENCES `tournaments` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `player_tournament_points`
--

LOCK TABLES `player_tournament_points` WRITE;
/*!40000 ALTER TABLE `player_tournament_points` DISABLE KEYS */;
/*!40000 ALTER TABLE `player_tournament_points` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `players`
--

DROP TABLE IF EXISTS `players`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `players` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `gender` enum('male','female') DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `idx_name` (`name`),
  KEY `idx_gender` (`gender`)
) ENGINE=InnoDB AUTO_INCREMENT=163 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `players`
--

LOCK TABLES `players` WRITE;
/*!40000 ALTER TABLE `players` DISABLE KEYS */;
INSERT INTO `players` VALUES (1,'Абакумова Дарья','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(2,'Агапов Александр','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(3,'Саиди Аймен','male','2025-10-06 13:16:33','2025-10-08 09:23:44'),(4,'Акулова Александра','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(5,'Алиева Ольга','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(6,'Алкина Светлана','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(7,'Анухин Виктор','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(8,'Артюхина Елена','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(9,'Африканов Андрей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(10,'Багаутдинова Гульназ','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(11,'Базарев Дмитрий','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(12,'Бакар Риад','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(13,'Балахтин Илья (юниор)','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(14,'Банщиков Андрей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(15,'Баринова Светлана','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(16,'Бейгер Максим','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(17,'Березнеговская Светлана','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(18,'Бирюкова Наталья','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(19,'Большаков Василий','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(20,'Большаков Михаил (юниор)','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(21,'Большакова Мария','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(22,'Бублик Татьяна','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(23,'Бугите Юлия','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(24,'Вахрушев Владимир','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(25,'Волков Денис','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(26,'Воробьева Лиза','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(27,'Воронов Олег','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(28,'Гаджиев Сеявуш','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(29,'Гаркавый Вадим','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(30,'Гелдиев Роман','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(31,'Глеклер Андрей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(32,'Глуховский Аркадий','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(33,'Головко Татьяна','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(34,'Гоцфрид Константин','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(35,'Гришин Дмитрий','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(36,'Гришков Сергей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(37,'Гулинин Евгений','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(38,'Денисов Евгений','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(39,'Джедиан Нуредин','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(40,'Догадин Евгений','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(41,'Домбровская Анна','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(42,'Домбровский Сергей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(43,'Дубовицкая Ольга','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(44,'Дубовицкий Игорь','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(45,'Елсаков Сергей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(46,'Елсакова Алена (юниор)','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(47,'Елсакова Оксана','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(48,'Земцов Сергей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(49,'Зимин Михаил','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(50,'Зимина Светлана','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(51,'Зинкеев Георгий (юниор)','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(52,'Зубова Наталья','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(53,'Иванов Юрий','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(54,'Иванова Ольга','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(55,'Изместьев Алексей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(56,'Казанцева Татьяна','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(57,'Кайтукова Фатима','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(58,'Кананыхина Светлана','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(59,'Капов Иван','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(60,'Карепова Елена','female','2025-10-06 13:16:33','2025-10-08 09:19:43'),(61,'Каргашин Илья','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(62,'Кирдеева Надежда','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(63,'Кирменская Елена','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(64,'Колесников Андрей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(65,'Комаров Александр','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(66,'Кондратова Нина','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(67,'Коппа Нина','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(68,'Костяная Евгения','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(69,'Кравцов Владимир','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(70,'Крошилов Александр','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(71,'Крошилова Ирина','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(72,'Кувакин Валерий','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(73,'Курбанова Маргарита','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(74,'Ли Александр','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(75,'Лукьянова Ирина','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(76,'Лухиши Хафидо','male','2025-10-06 13:16:33','2025-10-06 13:46:58'),(77,'Лютиков Александр','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(78,'Лямунов Никита',NULL,'2025-10-06 13:16:33','2025-10-06 13:16:33'),(79,'Мельник Татьяна','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(80,'Мирошниченко Вера','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(81,'Мишин Дмитрий','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(82,'Мурашова Елена','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(83,'Ницинский Станислав','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(84,'Новиков Андрей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(85,'Новиков Петр','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(86,'Орлова Таисия','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(87,'Осокин Евгений','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(88,'Павлова Ирина','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(89,'Пелевин Андрей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(90,'Пелевина Наталия','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(91,'Петрушко Алексей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(92,'Петрушко Юлия','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(93,'Пименова Татьяна','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(94,'Поляков Алексей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(95,'Полякова Оксана','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(96,'Попов Виктор','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(97,'Розанова Юлия','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(98,'Савельев Игорь','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(99,'Савченко Елена','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(100,'Сафонов Сергей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(101,'Сафонова Светлана','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(102,'Северов Михаил','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(103,'Склокина Ксения','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(104,'Скляр Светлана','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(105,'Смирнов Виктор','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(106,'Соколова Ольга','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(107,'Тарасов Константин','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(108,'Таратина Елена','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(109,'Таратин Артем (юниор)','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(110,'Тихонов Дмитрий','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(111,'Ткаченко Анна','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(112,'Трофимов Александр','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(113,'Трофимова Екатерина','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(114,'Трутнев Евгений','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(115,'Федотов Николай','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(116,'Федотовский Олег','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(117,'Филатов Андрей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(118,'Хафизова Индира','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(119,'Хе Марина','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(120,'Царегородцев Александр','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(121,'Чекмарева Татьяна','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(122,'Шапкин Константин','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(123,'Шевченко София','female','2025-10-06 13:16:33','2025-10-07 15:26:24'),(124,'Шундрин Алексей','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(125,'Шундрин Михаил','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(126,'Энжольрас Жером','male','2025-10-06 13:16:33','2025-10-07 15:26:24'),(127,'Яковлева Нет','female','2025-10-06 13:51:09','2025-10-06 13:51:09'),(128,'Галдин Нет','male','2025-10-06 13:51:47','2025-10-06 13:51:47'),(129,'Кузнецова Елена','female','2025-10-06 13:52:15','2025-10-06 13:52:15'),(130,'Молчанова Нет','female','2025-10-06 13:52:52','2025-10-06 13:52:52'),(131,'Педченко Александр','male','2025-10-06 13:53:28','2025-10-06 13:53:28'),(132,'Акимова Нет','female','2025-10-06 13:53:47','2025-10-06 13:53:47'),(133,'Акимов нет','male','2025-10-06 13:54:06','2025-10-06 13:54:06'),(134,'Михеенко Алексей','male','2025-10-06 13:57:18','2025-10-06 13:57:18'),(135,'Дурынчева Татьяна','female','2025-10-06 13:57:50','2025-10-06 13:57:50'),(136,'Савельева Юлия','female','2025-10-06 13:58:21','2025-10-06 13:58:21'),(137,'Козлов Павел','male','2025-10-06 13:58:53','2025-10-06 13:58:53'),(138,'Беспрозванных Нет','male','2025-10-06 13:59:30','2025-10-06 14:12:41'),(139,'Грищенко Нет','male','2025-10-06 13:59:54','2025-10-06 13:59:54'),(140,'Мутовина Нет','female','2025-10-06 14:00:13','2025-10-06 14:00:13'),(141,'Невдах Нет','male','2025-10-06 14:00:42','2025-10-06 14:00:42'),(142,'Шундрин Нет','male','2025-10-06 14:02:16','2025-10-06 14:02:16'),(143,'Грачанац Наталья','female','2025-10-06 14:02:44','2025-10-06 14:02:44'),(144,'Чашин Нет','male','2025-10-06 14:03:06','2025-10-06 14:03:06'),(145,'Мыльцева Нет','female','2025-10-06 14:03:29','2025-10-06 14:04:01'),(146,'Татьянц Нет','male','2025-10-06 14:04:58','2025-10-06 14:04:58'),(147,'Сапронова Нет','female','2025-10-06 14:05:36','2025-10-06 14:05:36'),(148,'Соколовский Нет','male','2025-10-06 14:05:59','2025-10-06 14:05:59'),(149,'Агапова Кристина','female','2025-10-06 14:06:21','2025-10-06 14:06:21'),(150,'Высоколян Нет','male','2025-10-06 14:06:43','2025-10-06 14:06:43'),(151,'Хамидуллина Нет','female','2025-10-06 14:07:21','2025-10-06 14:07:21'),(152,'Нет Наталья','female','2025-10-06 14:07:54','2025-10-06 14:07:54'),(153,'Тюрина Нет','female','2025-10-06 14:13:42','2025-10-06 14:13:42'),(154,'Лухиши Абделхафидх Хафидо',NULL,'2025-10-08 08:52:41','2025-10-08 09:24:00'),(155,'Борисов Александр','male','2025-10-08 09:17:19','2025-10-08 09:17:19'),(156,'Рядовиков Андрей','male','2025-10-08 09:17:42','2025-10-08 09:17:42'),(157,'Потапова Людмила','female','2025-10-08 09:18:34','2025-10-08 09:18:34'),(158,'Трушина Надежда','female','2025-10-08 09:18:51','2025-10-08 09:18:51'),(159,'Гуменюк Ирина','female','2025-10-08 09:21:33','2025-10-08 09:21:33'),(160,'Коновалов Серафим','male','2025-10-08 09:21:44','2025-10-08 09:21:44'),(161,'Буймов Иван','male','2025-10-08 09:21:56','2025-10-08 09:21:56'),(162,'Харитончик Александр','male','2025-10-08 09:22:32','2025-10-08 09:22:32');
/*!40000 ALTER TABLE `players` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `rating_settings`
--

DROP TABLE IF EXISTS `rating_settings`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `rating_settings` (
  `id` int NOT NULL AUTO_INCREMENT,
  `setting_name` varchar(50) NOT NULL,
  `setting_value` text NOT NULL,
  `description` text,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `setting_name` (`setting_name`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `rating_settings`
--

LOCK TABLES `rating_settings` WRITE;
/*!40000 ALTER TABLE `rating_settings` DISABLE KEYS */;
INSERT INTO `rating_settings` VALUES (1,'best_results_count','8','Количество лучших результатов для подсчета рейтинга','2025-10-08 07:40:00','2025-10-08 07:40:00'),(2,'current_season','2025','Текущий сезон','2025-10-08 07:40:00','2025-10-08 07:40:00');
/*!40000 ALTER TABLE `rating_settings` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `team_players`
--

DROP TABLE IF EXISTS `team_players`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `team_players` (
  `id` int NOT NULL AUTO_INCREMENT,
  `team_id` int NOT NULL,
  `player_id` int NOT NULL,
  `position` tinyint NOT NULL DEFAULT '1',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_team_player` (`team_id`,`player_id`),
  KEY `idx_team_id` (`team_id`),
  KEY `idx_player_id` (`player_id`),
  CONSTRAINT `team_players_ibfk_1` FOREIGN KEY (`team_id`) REFERENCES `teams` (`id`) ON DELETE CASCADE,
  CONSTRAINT `team_players_ibfk_2` FOREIGN KEY (`player_id`) REFERENCES `players` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `team_players`
--

LOCK TABLES `team_players` WRITE;
/*!40000 ALTER TABLE `team_players` DISABLE KEYS */;
/*!40000 ALTER TABLE `team_players` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `teams`
--

DROP TABLE IF EXISTS `teams`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `teams` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `teams`
--

LOCK TABLES `teams` WRITE;
/*!40000 ALTER TABLE `teams` DISABLE KEYS */;
/*!40000 ALTER TABLE `teams` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tournament_results`
--

DROP TABLE IF EXISTS `tournament_results`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `tournament_results` (
  `id` int NOT NULL AUTO_INCREMENT,
  `tournament_id` int NOT NULL,
  `team_id` int NOT NULL,
  `cup_position` enum('CUP_WINNER','CUP_RUNNER_UP','CUP_THIRD_PLACE','CUP_SEMI_FINAL','CUP_QUARTER_FINAL','QUALIFYING_HIGH','QUALIFYING_LOW','QUALIFYING_ONLY') NOT NULL DEFAULT 'CUP_QUARTER_FINAL',
  `cup` enum('A','B') DEFAULT NULL,
  `qualifying_wins` int DEFAULT '0',
  `wins` int DEFAULT '0',
  `loses` int DEFAULT '0',
  `points` int NOT NULL DEFAULT '0',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `team_id` (`team_id`),
  KEY `idx_tournament_team` (`tournament_id`,`team_id`),
  KEY `idx_tournament_cup` (`tournament_id`,`cup`),
  KEY `idx_cup_position` (`cup_position`),
  KEY `idx_qualifying_wins` (`qualifying_wins`),
  KEY `idx_wins` (`wins`),
  KEY `idx_loses` (`loses`),
  KEY `idx_points` (`points` DESC),
  CONSTRAINT `tournament_results_ibfk_1` FOREIGN KEY (`tournament_id`) REFERENCES `tournaments` (`id`) ON DELETE CASCADE,
  CONSTRAINT `tournament_results_ibfk_2` FOREIGN KEY (`team_id`) REFERENCES `teams` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tournament_results`
--

LOCK TABLES `tournament_results` WRITE;
/*!40000 ALTER TABLE `tournament_results` DISABLE KEYS */;
/*!40000 ALTER TABLE `tournament_results` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tournaments`
--

DROP TABLE IF EXISTS `tournaments`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `tournaments` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `category` enum('FEDERAL','REGIONAL') NOT NULL DEFAULT 'REGIONAL',
  `teams_count` int NOT NULL DEFAULT '0',
  `date` date NOT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_date` (`date`),
  KEY `idx_category` (`category`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tournaments`
--

LOCK TABLES `tournaments` WRITE;
/*!40000 ALTER TABLE `tournaments` DISABLE KEYS */;
/*!40000 ALTER TABLE `tournaments` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-10-08  9:42:17
