// ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ğ¹ Ñ‚ĞµÑÑ‚ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ğ° Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ»Ğ°
function detectGender(fullName) {
  const name = fullName.trim().toLowerCase();
  
  // Ğ Ğ°Ğ·Ğ±Ğ¸Ğ²Ğ°ĞµĞ¼ Ğ½Ğ° Ñ‡Ğ°ÑÑ‚Ğ¸ (Ğ¸Ğ¼Ñ Ñ„Ğ°Ğ¼Ğ¸Ğ»Ğ¸Ñ Ğ¾Ñ‚Ñ‡ĞµÑÑ‚Ğ²Ğ¾)
  const nameParts = name.split(/\s+/);
  const firstName = nameParts[0];
  const lastName = nameParts.length > 1 ? nameParts[1] : "";
  
  console.log(`ğŸ” ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑÑ Ğ¿Ğ¾Ğ» Ğ´Ğ»Ñ: "${fullName}" -> "${firstName}"`);

  // Ğ¢Ğ¸Ğ¿Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¶ĞµĞ½ÑĞºĞ¸Ğµ Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ñ
  const FEMALE_ENDINGS = [
    "Ğ°", "Ñ", "Ğ¸Ñ", "ÑŒÑ", "Ğ½Ğ°", "Ğ»Ğ°", "Ñ€Ğ°", "ÑĞ°", "Ñ‚Ğ°", "ĞºĞ°", "Ğ³Ğ°", "Ğ²Ğ°", "Ğ´Ğ°", "Ğ·Ğ°", "Ğ¼Ğ°", "Ğ¿Ğ°", "Ñ…Ğ°", "Ñ‡Ğ°", "ÑˆĞ°", "Ñ‰Ğ°",
    "Ğ¸Ğ½Ğ°", "Ğ°Ğ½Ğ°", "ĞµĞ½Ğ°", "Ğ¾Ğ½Ğ°", "ÑƒĞ½Ğ°", "Ñ‹Ğ½Ğ°"
  ];

  // Ğ¢Ğ¸Ğ¿Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¼ÑƒĞ¶ÑĞºĞ¸Ğµ Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ñ
  const MALE_ENDINGS = [
    "Ğ¸Ğ¹", "ĞµĞ¹", "Ğ°Ğ¹", "Ğ¾Ğ¹", "Ñ‹Ğ¹", "Ğ¸Ğ½", "Ğ¾Ğ½", "ĞµĞ½", "Ğ°Ğ½", "ÑƒĞ½", "Ñ‹Ğ½",
    "Ğ´Ğ¸Ñ€", "Ğ¼Ğ¸Ñ€", "Ñ‚Ğ¾Ñ€", "ÑĞ¾Ñ€", "Ğ½Ğ¾Ñ€", "Ğ»Ğ¾Ñ€",
    "Ğ´Ñ€", "Ğ½Ñ", "Ğ¸Ğ»", "ĞµĞ»", "Ğ¸Ğ¼", "Ñ‘Ğ¼", "Ğ°Ğº", "ĞµĞº", "Ğ¸Ñ‡", "ÑÑˆ", "Ğ°Ñ‚", "Ğ°Ğ²"
  ];

  // ĞĞ´Ğ½Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ½Ğ¾ Ğ¼ÑƒĞ¶ÑĞºĞ¸Ğµ Ğ¸Ğ¼ĞµĞ½Ğ°
  const DEFINITELY_MALE = [
    "Ğ¸Ğ³Ğ¾Ñ€ÑŒ", "Ğ¾Ğ»ĞµĞ³", "Ğ³Ğ»ĞµĞ±", "Ğ»ĞµĞ²", "Ğ´Ğ°Ğ²Ğ¸Ğ´", "Ğ´Ğ°Ğ½Ğ¸Ğ¸Ğ»",
    "Ğ°Ğ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€", "Ğ°Ğ½Ğ´Ñ€ĞµĞ¹", "Ğ°Ğ»ĞµĞºÑĞµĞ¹", "Ğ°Ğ½Ğ°Ñ‚Ğ¾Ğ»Ğ¸Ğ¹", "Ğ°Ğ½Ñ‚Ğ¾Ğ½", "Ğ°Ñ€Ñ‚Ñ‘Ğ¼", "Ğ°Ñ€Ñ‚ĞµĞ¼", "Ğ±Ğ¾Ñ€Ğ¸Ñ", "Ğ²Ğ°Ğ´Ğ¸Ğ¼", "Ğ²Ğ°Ğ»ĞµÑ€Ğ¸Ğ¹", "Ğ²Ğ°ÑĞ¸Ğ»Ğ¸Ğ¹", "Ğ²Ğ¸ĞºÑ‚Ğ¾Ñ€", "Ğ²Ğ»Ğ°Ğ´Ğ¸Ğ¼Ğ¸Ñ€", "Ğ²Ğ»Ğ°Ğ´Ğ¸ÑĞ»Ğ°Ğ²", "Ğ²ÑÑ‡ĞµÑĞ»Ğ°Ğ²", "Ğ³ĞµĞ½Ğ½Ğ°Ğ´Ğ¸Ğ¹", "Ğ³ĞµĞ¾Ñ€Ğ³Ğ¸Ğ¹", "Ğ´ĞµĞ½Ğ¸Ñ", "Ğ´Ğ¼Ğ¸Ñ‚Ñ€Ğ¸Ğ¹", "ĞµĞ²Ğ³ĞµĞ½Ğ¸Ğ¹", "ĞµĞ³Ğ¾Ñ€", "Ğ¸Ğ²Ğ°Ğ½", "Ğ¸Ğ»ÑŒÑ", "ĞºĞ¸Ñ€Ğ¸Ğ»Ğ»", "ĞºĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ğ¸Ğ½", "Ğ¼Ğ°ĞºÑĞ¸Ğ¼", "Ğ¼Ğ¸Ñ…Ğ°Ğ¸Ğ»", "Ğ½Ğ¸ĞºĞ¾Ğ»Ğ°Ğ¹", "Ğ¿Ğ°Ğ²ĞµĞ»", "Ğ¿Ñ‘Ñ‚Ñ€", "Ğ¿ĞµÑ‚Ñ€", "Ñ€Ğ¾Ğ¼Ğ°Ğ½", "ÑĞµÑ€Ğ³ĞµĞ¹", "ÑÑ‚Ğ°Ğ½Ğ¸ÑĞ»Ğ°Ğ²", "ÑÑ€Ğ¸Ğ¹", "ÑÑ€Ğ¾ÑĞ»Ğ°Ğ²"
  ];

  // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ğ¾Ğ´Ğ½Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ½Ñ‹Ğµ Ğ¸Ğ¼ĞµĞ½Ğ°
  if (DEFINITELY_MALE.includes(firstName)) {
    return { gender: "male", confidence: "high", reason: "Ğ¾Ğ´Ğ½Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ½Ğ¾ Ğ¼ÑƒĞ¶ÑĞºĞ¾Ğµ Ğ¸Ğ¼Ñ" };
  }

  // ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµĞ¼ Ğ¿Ğ¾ Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸ÑĞ¼ Ğ¸Ğ¼ĞµĞ½Ğ¸
  for (const ending of FEMALE_ENDINGS) {
    if (firstName.endsWith(ending)) {
      const confidence = ending.length > 2 ? "high" : "medium";
      return { gender: "female", confidence, reason: `Ğ¶ĞµĞ½ÑĞºĞ¾Ğµ Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ğµ "-${ending}"` };
    }
  }

  for (const ending of MALE_ENDINGS) {
    if (firstName.endsWith(ending)) {
      const confidence = ending.length > 2 ? "high" : "medium";
      return { gender: "male", confidence, reason: `Ğ¼ÑƒĞ¶ÑĞºĞ¾Ğµ Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ğµ "-${ending}"` };
    }
  }

  // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ñ„Ğ°Ğ¼Ğ¸Ğ»Ğ¸Ñ
  if (lastName) {
    if (lastName.endsWith("Ğ¾Ğ²Ğ°") || lastName.endsWith("ĞµĞ²Ğ°") || lastName.endsWith("Ğ¸Ğ½Ğ°") || lastName.endsWith("ÑĞºĞ°Ñ")) {
      return { gender: "female", confidence: "medium", reason: "Ğ¶ĞµĞ½ÑĞºĞ¾Ğµ Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ğµ Ñ„Ğ°Ğ¼Ğ¸Ğ»Ğ¸Ğ¸" };
    }
    
    if (lastName.endsWith("Ğ¾Ğ²") || lastName.endsWith("ĞµĞ²") || lastName.endsWith("Ğ¸Ğ½") || lastName.endsWith("ÑĞºĞ¸Ğ¹")) {
      return { gender: "male", confidence: "medium", reason: "Ğ¼ÑƒĞ¶ÑĞºĞ¾Ğµ Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ğµ Ñ„Ğ°Ğ¼Ğ¸Ğ»Ğ¸Ğ¸" };
    }
  }

  // ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ Ğ´Ğ»Ñ Ñ€ÑƒÑÑĞºĞ¸Ñ… Ğ¸Ğ¼ĞµĞ½: Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ½ÑÑ‚Ğ²Ğ¾ Ğ¼ÑƒĞ¶ÑĞºĞ¸Ñ… Ğ¸Ğ¼ĞµĞ½ Ğ·Ğ°ĞºĞ°Ğ½Ñ‡Ğ¸Ğ²Ğ°ÑÑ‚ÑÑ Ğ½Ğ° ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½Ñ‹Ğµ
  const lastChar = firstName.charAt(firstName.length - 1);
  const consonants = 'Ğ±Ğ²Ğ³Ğ´Ğ¶Ğ·Ğ¹ĞºĞ»Ğ¼Ğ½Ğ¿Ñ€ÑÑ‚Ñ„Ñ…Ñ†Ñ‡ÑˆÑ‰';
  const vowels = 'Ğ°ĞµÑ‘Ğ¸Ğ¾ÑƒÑ‹ÑÑÑ';
  
  if (consonants.includes(lastChar)) {
    if (!firstName.endsWith('ÑŒ')) {
      return { gender: "male", confidence: "medium", reason: "Ğ¸Ğ¼Ñ Ğ·Ğ°ĞºĞ°Ğ½Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° ÑĞ¾Ğ³Ğ»Ğ°ÑĞ½ÑƒÑ (Ñ‚Ğ¸Ğ¿Ğ¸Ñ‡Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ¼ÑƒĞ¶ÑĞºĞ¸Ñ… Ğ¸Ğ¼ĞµĞ½)" };
    }
  }
  
  return { gender: null, confidence: "low", reason: "Ğ½Ğµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼ Ñ€ÑƒÑÑĞºĞ¾Ğ³Ğ¾ ÑĞ·Ñ‹ĞºĞ°" };
}

// Ğ¢ĞµÑÑ‚Ğ¸Ñ€ÑƒĞµĞ¼ Ğ½Ğ° Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ°Ñ… Ğ¸Ğ· Ğ²Ğ°ÑˆĞµĞ³Ğ¾ ÑĞ¿Ğ¸ÑĞºĞ°
const testNames = [
  "Ğ‘Ğ¾Ğ»ÑŒÑˆĞ°ĞºĞ¾Ğ² Ğ’Ğ°ÑĞ¸Ğ»Ğ¸Ğ¹",
  "ĞšÑ€Ğ¾ÑˆĞ¸Ğ»Ğ¾Ğ² ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€",
  "ĞÑ„Ñ€Ğ¸ĞºĞ°Ğ½Ğ¾Ğ² ĞĞ½Ğ´Ñ€ĞµĞ¹", 
  "Ğ›ÑĞ¼ÑƒĞ½Ğ¾Ğ² ĞĞ¸ĞºĞ¸Ñ‚Ğ°",
  "Ğ’Ğ¾Ğ»ĞºĞ¾Ğ² Ğ”ĞµĞ½Ğ¸Ñ",
  "Ğ’Ğ°Ñ…Ñ€ÑƒÑˆĞµĞ² Ğ’Ğ»Ğ°Ğ´Ğ¸Ğ¼Ğ¸Ñ€",
  "Ğ“Ğ°Ğ´Ğ¶Ğ¸ĞµĞ² Ğ¡ĞµÑĞ²ÑƒÑˆ",
  "Ğ”ĞµĞ½Ğ¸ÑĞ¾Ğ² Ğ•Ğ²Ğ³ĞµĞ½Ğ¸Ğ¹",
  "Ğ¤ĞµĞ´Ğ¾Ñ‚Ğ¾Ğ² ĞĞ¸ĞºĞ¾Ğ»Ğ°Ğ¹",
  "Ğ¡ĞµĞ²ĞµÑ€Ğ¾Ğ² ĞœĞ¸Ñ…Ğ°Ğ¸Ğ»",
  "Ğ‘Ğ¾Ğ»ÑŒÑˆĞ°ĞºĞ¾Ğ²Ğ° ĞœĞ°Ñ€Ğ¸Ñ",
  "Ğ—ÑƒĞ±Ğ¾Ğ²Ğ° ĞĞ°Ñ‚Ğ°Ğ»ÑŒÑ",
  "ĞšĞ¸Ñ€Ğ¼ĞµĞ½ÑĞºĞ°Ñ Ğ•Ğ»ĞµĞ½Ğ°"
];

console.log("ğŸ§ª Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ğ°:\n");

testNames.forEach(name => {
  const result = detectGender(name);
  console.log(`ğŸ‘¤ ${name}: ${result.gender || 'Ğ½ĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ¾'} (${result.confidence}) - ${result.reason}\n`);
});
